#!/bin/sh
# Script to open Vimb instances in tabbed

lsgrp 2 | xargs mapw -u

## main
ch() {
	exec chromium --kiosk --user-data-dir=/home/halfwit/local/cfg/chromium "$@"
}

case "$@" in
	*youtube*)	ch "$@" ;;
	*google*)	ch "$@" ;;
	*github*)	ch "$@" ;;
	*nixers*)	ch "$@" ;;
	*reddit*)	ch "$@" ;;
	*!*)		ch "$@" ;;
esac

surf -u "Mozilla/5.0 (Linux; Android 6.0.1; Nexus 5 Build/MOB3OD) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.105 Mobile Safari/537.36" "$@" &

# Webkit2 focus hack
sleep 1
wtf "$(lsw | tail -n 1)"
exit 0
