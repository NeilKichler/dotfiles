#!/usr/bin/env bash
mpvcmd() {
   mpv --input-unix-socket=/tmp/socket --keepaspect-window "$1"
}

case "$1" in
    *youtube.com/watch*)   mpvcmd "$1"                         ;;
    *.pdf|*.djvu|*.epub)   curl -s "$1" > /tmp/tmp.book 
                           zathura /tmp/tmp.book               ;;
    *youtu.be*)            mpvcmd "$1"                         ;;
    *twitch*)              mpvcmd "$1"                         ;;
    *.mkv|*.mp4|*.webm)    mpvcmd "$1"                         ;;
    http*)                 vimb-run "$1"                       ;;
    *)                     notify-send "handle $1 plumber"
                           nvim-run ~/local/bin/plumber        ;;
esac
